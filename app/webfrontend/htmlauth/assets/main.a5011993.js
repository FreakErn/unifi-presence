import{l as _,a as C,u as H,r as x,c as U,w as u,Q as ae,o as g,b as a,d as ie,e as S,f as I,g as oe,h as X,i as le,j as re,k as j,m as k,n as i,t as d,p as T,q,s as D,v as de,x as R,F as G,y as ce,z as B,A as ee,B as ue,C as ge,D as Se,E as te,G as W,H as se,I as A,J as Q,K as ne,L as me,M as K,N as _e,O as Ie,P as Ee,R as Te,S as fe,T as pe,U as he,V as Ne,W as ve}from"./vendor.a50b2955.js";const Oe=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function o(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(r){if(r.ep)return;r.ep=!0;const l=o(r);fetch(r.href,l)}};Oe();const Re={},$={ERROR:"error",RESET_ERROR:"resetError",LOADING:"setLoading"},we=()=>({error:null,loading:!1}),Ce={},Ae={[$.ERROR](e,s){e.error=s},[$.RESET_ERROR](e){e.error=null},[$.LOADING](e,s){e.loading=s}};var b={name:"Global",namespaced:!0,state:we,actions:Ce,mutations:Ae,mutationTypes:_.exports.mapValues($,e=>`Global/${e}`),actionTypes:_.exports.mapValues(Re,e=>`Global/${e}`)};const w={LOAD_CONFIG:"loadConfig",SAVE_CONFIG:"saveConfig",LOAD_STATS:"loadStats",LOAD_CLIENTS:"loadClients",SAVE_CLIENTS:"saveClients",RESTART_SERVICE:"restartService",LOAD_SITES:"loadSites"},c={STORE_CONFIG:"storeConfig",SHOW_TWO_FACTOR:"showTwoFactor",HIDE_TWO_FACTOR:"hideTwoFactor",STORE_STATS:"storeStats",SET_LOGIN_REQUIRED:"setLoginRequired",SET_LOGIN_ERROR:"setLoginError",SET_CONNECTION_ERROR:"setConnectionError",SET_CLIENTS:"setClients",SET_CONFIG_CLIENTS:"setConfigClients",SET_SERVICE_STATUS:"setServiceStatus",SET_SITES:"setSites"},be=()=>({config:{},showTwoFactor:!1,version:null,stats:{},loginRequired:!1,loginError:!1,connectionError:!1,existingClients:[],clients:[],serviceStatus:"DISCONNECTED",sites:[{label:"Default",value:"default"}]}),L=async(e,s)=>{try{e.commit(b.mutationTypes.RESET_ERROR,null,{root:!0}),await s(),e.commit(c.SET_CONNECTION_ERROR,!1)}catch(o){if(o.response){if(o.response.status===499)throw e.commit(c.SHOW_TWO_FACTOR),o;if(o.response.status===401)throw e.commit(c.SET_LOGIN_REQUIRED,!0),e.commit(c.SET_LOGIN_ERROR,!0),o;if(o.response.status===408)throw e.commit(c.SET_CONNECTION_ERROR,!0),o;const t=_.exports.get(o,"response.data.error",o.message);e.commit(b.mutationTypes.ERROR,t,{root:!0})}else e.commit(b.mutationTypes.ERROR,o.message,{root:!0});throw o}},Le={async[w.LOAD_CONFIG](e){return L(e,async()=>{const s=await C.get("/plugins/unifi_presence/api/config");e.commit(c.STORE_CONFIG,s.data)})},async[w.SAVE_CONFIG](e){return e.commit(c.HIDE_TWO_FACTOR),e.commit(c.SET_LOGIN_ERROR,!1),L(e,async()=>{const s=await C.put("/plugins/unifi_presence/api/config",Object.assign(e.state.config,{loginRequired:e.state.loginRequired}));e.commit(c.STORE_CONFIG,s.data)})},async[w.LOAD_STATS](e){return L(e,async()=>{const s=await C.get("/plugins/unifi_presence/api/stats");e.commit(c.STORE_STATS,s.data),e.commit(c.SET_LOGIN_REQUIRED,!1)})},async[w.LOAD_CLIENTS](e){return L(e,async()=>{const s=await C.get("/plugins/unifi_presence/api/clients");e.commit(c.SET_CLIENTS,s.data.clients)})},async[w.SAVE_CLIENTS](e,{mac:s,value:o}){return L(e,async()=>{const t=e.state.clients.filter(l=>l.mac!=s&&l.watched||l.mac==s&&o===!0).map(l=>{const n=Object.assign({},l);return delete n.watched,n}),r=await C.put("/plugins/unifi_presence/api/config",{clients:t});e.commit(c.SET_CONFIG_CLIENTS,r.data.clients)})},async[w.RESTART_SERVICE](e){return L(e,async()=>{await C.post("/plugins/unifi_presence/api/restartService")})},async[w.LOAD_SITES](e){return L(e,async()=>{const s=await C.get("/plugins/unifi_presence/api/sites");e.commit(c.SET_SITES,s.data.sites)})}},ye={[c.STORE_CONFIG](e,s){e.config=s,e.existingClients=s.clients.map(o=>o.mac)},[c.STORE_STATS](e,s){s.version&&(e.version=s.version),e.stats={wan:s.wan,www:s.www}},[c.SHOW_TWO_FACTOR](e){e.showTwoFactor=!0,e.config.token=null,e.twoFaEnabled=!0},[c.HIDE_TWO_FACTOR](e){e.showTwoFactor=!1},[c.SET_LOGIN_REQUIRED](e,s){e.loginRequired=s},[c.SET_LOGIN_ERROR](e,s){e.loginError=s,e.twoFaEnabled=!1},[c.SET_CONNECTION_ERROR](e,s){e.connectionError=s},[c.SET_CLIENTS](e,s){s=s.map(o=>(o.watched=e.existingClients.includes(o.mac),o)),e.clients=_.exports.orderBy(s,["watched","type"],["desc","desc"])},[c.SET_CONFIG_CLIENTS](e,s){e.config.clients=s},[c.SET_SERVICE_STATUS](e,s){e.serviceStatus=s},[c.SET_SITES](e,s){e.sites=s}};var f={name:"Settings",namespaced:!0,state:be,actions:Le,mutations:ye,mutationTypes:_.exports.mapValues(c,e=>`Settings/${e}`),actionTypes:_.exports.mapValues(w,e=>`Settings/${e}`)};var M=(e,s)=>{for(const[o,t]of s)e[o]=t;return e};const Ve={name:"App",setup(){const e=H();let s=null;const o=()=>{const t=new WebSocket("ws://localhost:3000/plugins/unifi_presence/api/socket","webClient");t.onopen=r=>{s=setInterval(()=>t.send("ping"),2e4)},t.onmessage=r=>{if(r.data==="pong")return;const l=JSON.parse(r.data);switch(l.type){case"stats":return e.commit(f.mutationTypes.STORE_STATS,l.data);case"serviceStatus":return e.commit(f.mutationTypes.SET_SERVICE_STATUS,l.data.status)}},t.onclose=()=>{clearInterval(s),console.log("lost Connection"),setTimeout(o,5e3)}};o()}};function Fe(e,s,o,t,r,l){const n=x("router-view");return g(),U(ae,{view:"hHh lpR fFf",class:"bg-grey-1"},{default:u(()=>[a(ie,null,{default:u(()=>[a(n)]),_:1})]),_:1})}var Ue=M(Ve,[["render",Fe]]);const De={},y={LOAD_SETTINGS:"LOAD_SETTINGS",SAVE_SETTINGS:"SAVE_SETTINGS",LOAD_CLIENTS:"LOAD_CLIENTS",SAVE_CLIENTS:"SAVE_CLIENTS",RESTART_SERVICE:"RESTART_SERVICE"},Y=async(e,s)=>{e.commit(b.mutationTypes.LOADING,!0,{root:!0});try{await s()}finally{e.commit(b.mutationTypes.LOADING,!1,{root:!0})}},Ge={async[y.LOAD_SETTINGS](e){return Y(e,async()=>{await e.dispatch(f.actionTypes.LOAD_CONFIG,null,{root:!0});const s=e.rootState.Settings.config;s.ipaddress&&s.username&&s.password&&(await e.dispatch(f.actionTypes.LOAD_STATS,null,{root:!0}),await e.dispatch(f.actionTypes.LOAD_SITES,null,{root:!0}))})},async[y.SAVE_SETTINGS](e){return Y(e,async()=>{await e.dispatch(f.actionTypes.SAVE_CONFIG,null,{root:!0}),await e.dispatch(f.actionTypes.LOAD_STATS,null,{root:!0}),await e.dispatch(f.actionTypes.LOAD_SITES,null,{root:!0})})},async[y.LOAD_CLIENTS](e){return Y(e,async()=>{_.exports.isEmpty(e.rootState.Settings.config)&&await e.dispatch(y.LOAD_SETTINGS),await e.dispatch(f.actionTypes.LOAD_CLIENTS,null,{root:!0})})},async[y.SAVE_CLIENTS](e,{mac:s,value:o}){return e.dispatch(f.actionTypes.SAVE_CLIENTS,{mac:s,value:o},{root:!0})},async[y.RESTART_SERVICE](e){return e.dispatch(f.actionTypes.RESTART_SERVICE,null,{root:!0})}};var V={name:"Actions",namespaced:!0,actions:Ge,actionTypes:_.exports.mapValues(y,e=>`Actions/${e}`),mutationTypes:_.exports.mapValues(De,e=>`Actions/${e}`)},Pe="/plugins/unifi_presence/assets/udm.c8127c61.png";const ke={name:"UnifiController",setup(){const e=H(),s=S(()=>e.state.Settings.config),o=S(()=>e.state.Global.loading),t=S(()=>e.state.Settings.loginRequired),r=S(()=>e.state.Settings.version),l=S(()=>e.state.Settings.stats),n=S(()=>e.state.Settings.serviceStatus),E=S(()=>e.state.Global.error),p=S(()=>e.state.Settings.connectionError),v=S(()=>!(t.value||E.value||p.value||r.value===null||!s.value.username||!s.value.ipaddress||!s.value.password||n.value!=="CONNECTED")),P=O=>O<3600?`${Math.round(O/60)}m`:O<86400?`${Math.round(O/60/60)}h`:`${Math.floor(O/60/60/24)}d`,h=S(()=>P(l.value.www.uptime)),F=S(()=>P(l.value.wan.stats.uptime)),m=I(!1);return{isLoading:o,version:r,loginRequired:t,error:E,connected:v,stats:l,ispUptime:h,udmUptime:F,serviceStatus:n,restartLoading:m,restartService:async()=>{m.value=!0,await e.dispatch(V.actionTypes.RESTART_SERVICE,null,{root:!0}),m.value=!1},udm:Pe}}},We={class:"text-h6"},Qe={key:0,class:"text-subtitle2"},Me={key:1,class:"text-weight-medium text-negative"},ze={class:"text-h6"},He={class:"text-subtitle2"},qe={class:"row"},Be={class:"col-4 text-weight-light"},$e={class:"text-weight-medium"},xe={class:"col-5 text-weight-light"},je={class:"text-weight-medium"},Ke={class:"col-3 text-weight-light"},Ye={class:"text-weight-medium"},Ze={class:"col-9 text-weight-light"},Je={class:"text-weight-medium"},Xe={class:"col-3 text-weight-light"},et={class:"text-weight-medium"};function tt(e,s,o,t,r,l){return g(),U(ue,{class:"my-card"},{default:u(()=>[a(oe,{src:t.udm,"spinner-color":"white"},null,8,["src"]),t.isLoading?(g(),U(X,{key:0,align:"center"},{default:u(()=>[a(le,{color:"primary",size:"3em",class:"q-mb-md"})]),_:1})):(g(),U(re,{key:1},{default:u(()=>[a(ce,null,{default:u(()=>[t.connected?(g(),T(G,{key:1},[a(j,null,{default:u(()=>[a(k,null,{default:u(()=>[i("div",ze,d(t.stats.wan.name),1),i("div",He,d(e.$t(`SERVICE.${t.serviceStatus}`)),1),a(de,{caption:""},{default:u(()=>[R(d(e.$t("UNIFI.VERSION",{version:t.version})),1)]),_:1})]),_:1}),a(k,{avatar:""},{default:u(()=>[a(D,{size:"40px",name:"verified",color:"light-green-7"})]),_:1})]),_:1}),a(j,null,{default:u(()=>[a(k,null,{default:u(()=>[i("div",qe,[i("div",Be,[i("span",$e,d(e.$t("UNIFI.CPU"))+":",1),R(" "+d(t.stats.wan.stats.cpu)+"%",1)]),i("div",xe,[i("span",je,d(e.$t("UNIFI.MEMORY"))+":",1),R(" "+d(t.stats.wan.stats.mem)+"Mb",1)]),i("div",Ke,[i("span",Ye,d(e.$t("UNIFI.UPTIME"))+":",1),R(" "+d(t.udmUptime),1)]),i("div",Ze,[i("span",Je,d(e.$t("UNIFI.ISP"))+":",1),R(" "+d(t.stats.www.isp),1)]),i("div",Xe,[i("span",et,d(e.$t("UNIFI.UPTIME"))+":",1),R(" "+d(t.ispUptime),1)])])]),_:1})]),_:1})],64)):(g(),U(j,{key:0},{default:u(()=>[a(k,null,{default:u(()=>[i("div",We,d(e.$t(`SERVICE.${t.serviceStatus}`)),1),t.loginRequired?(g(),T("div",Qe,d(e.$t("UNIFI.LOGIN_REQUIRED")),1)):q("",!0),t.error?(g(),T("div",Me,d(t.error),1)):q("",!0)]),_:1}),a(k,{avatar:""},{default:u(()=>[a(D,{size:"40px",name:"warning_amber",color:"orange-14"})]),_:1})]),_:1}))]),_:1})]),_:1})),a(B),a(X,null,{default:u(()=>[a(ee,{class:"q-ml-md",outline:"",icon:"restart_alt",size:"sm",color:"orange-14",loading:t.restartLoading,onClick:t.restartService},{default:u(()=>[R(d(e.$t("SERVICE.RESTART")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})}var st=M(ke,[["render",tt]]);const nt={name:"Page",components:{UnifiController:st},setup(){return{}}},at={class:"q-pa-md"},it={class:"q-gutter-y-md bg-light-green-7"},ot={class:"row"},lt={class:"col-5 col-md-4 col-lg-3 q-pt-md"},rt={class:"col-6 col-md-7 col-lg-8"};function dt(e,s,o,t,r,l){const n=x("UnifiController"),E=x("router-view");return g(),T(G,null,[i("div",at,[i("div",it,[a(ge,{"inline-label":"",class:"text-grey-3 bg-light-green-6","active-color":"white bg-light-green-7","indicator-color":"light-green-9",align:"justify"},{default:u(()=>[a(te,{name:"mails",to:{name:"settings"},icon:"settings",label:e.$t("UNIFI.SETTINGS")},null,8,["label"]),a(te,{name:"alarms",to:{name:"clients"},icon:"router",label:e.$t("UNIFI.DEVICES")},null,8,["label"])]),_:1})])]),a(Se,{padding:""},{default:u(()=>[i("div",ot,[i("div",lt,[a(n)]),a(W),i("div",rt,[a(E)])])]),_:1})],64)}var ct=M(nt,[["render",dt]]),ut=e=>({required:[s=>!!s||e("VALIDATION.REQUIRED")],topic:[s=>/^[\w-]+((?:\/[\w-]+)+)?$/.test(s)||e("VALIDATION.INVALID_TOPIC")],ipAddress:[s=>/\b((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.|$)){4}\b/.test(s)||e("VALIDATION.INVALID_IP")],port:[s=>s==null||/^((6553[0-5])|(655[0-2][0-9])|(65[0-4][0-9]{2})|(6[0-4][0-9]{3})|([1-5][0-9]{4})|([0-5]{0,5})|([0-9]{1,4}))$/.test(s)||e("VALIDATION.INVALID_PORT")]});const gt={name:"Settings",components:{},setup(){const{t:e}=se.exports.useI18n({useScope:"global"}),s=H();s.dispatch(V.actionTypes.LOAD_SETTINGS);const o=S(()=>s.state.Settings.config),t=S(()=>s.state.Settings.showTwoFactor),r=S(()=>s.state.Settings.loginRequired),l=S(()=>s.state.Settings.sites),n=S(()=>s.state.Settings.loginError),E=S(()=>s.state.Global.loading),p=I(!1),v={topic:I(null),native:I(null),ipAddress:I(null),port:I(null),username:I(null),password:I(null),twoFa:I(null),site:I(null)},P=async()=>{const h=Object.values(v).filter(m=>m.value&&m.value.validate);if(h.forEach(m=>m.value.validate()),h.find(m=>(m.value.name==="username"||m.value.name==="password")&&n.value||m.value.name==="twoFa"&&t?!1:m.value.hasError)===void 0){p.value=!0;try{await s.dispatch(V.actionTypes.SAVE_SETTINGS)}finally{p.value=!1}}};return{config:o,showPassword:I(!0),showTwoFactor:t,isLoading:E,validationRules:ut(e),formFields:v,saveSettings:P,isSaving:p,loginRequired:r,loginError:n,sites:l}}},St={class:"row"},mt={class:"col-12"},_t={class:"text-h5 self-end"},It={class:"text-h5 q-mt-xl self-end"},Et={key:1,class:"row"},Tt={class:"col-6"},ft={class:"row q-pt-md"},pt={class:"col-12"};function ht(e,s,o,t,r,l){return g(),T(G,null,[i("div",St,[i("div",mt,[i("div",_t,d(e.$t("UNIFI.MQTT_SETTINGS")),1),a(B,{spaced:""}),a(A,{name:"topic",ref:t.formFields.topic,disable:t.isSaving||t.isLoading,loading:t.isLoading,modelValue:t.config.topic,"onUpdate:modelValue":s[0]||(s[0]=n=>t.config.topic=n),label:e.$t("UNIFI.TOPIC"),hint:e.$t("UNIFI.TOPIC_HINT"),rules:t.validationRules.topic},null,8,["disable","loading","modelValue","label","hint","rules"]),i("div",It,d(e.$t("UNIFI.CONTROLLER")),1),a(B,{spaced:""}),a(Q,{name:"native",ref:t.formFields.native,disable:t.isSaving||t.isLoading,loading:t.isLoading,modelValue:t.config.native,"onUpdate:modelValue":s[1]||(s[1]=n=>t.config.native=n),size:"lg",label:e.$t("UNIFI.NATIVE_HINT")},null,8,["disable","loading","modelValue","label"]),a(A,{name:"ip",ref:t.formFields.ipAddress,disable:t.isSaving||t.isLoading,loading:t.isLoading,modelValue:t.config.ipaddress,"onUpdate:modelValue":s[2]||(s[2]=n=>t.config.ipaddress=n),label:e.$t("UNIFI.IP"),hint:e.$t("UNIFI.IP_HINT"),rules:t.validationRules.ipAddress},null,8,["disable","loading","modelValue","label","hint","rules"]),t.config.native?q("",!0):(g(),U(A,{key:0,name:"port",ref:t.formFields.port,disable:t.isSaving||t.isLoading,loading:t.isLoading,modelValue:t.config.port,"onUpdate:modelValue":s[3]||(s[3]=n=>t.config.port=n),label:e.$t("UNIFI.PORT"),hint:e.$t("UNIFI.PORT_HINT"),rules:t.validationRules.port},null,8,["disable","loading","modelValue","label","hint","rules"])),a(A,{name:"username",ref:t.formFields.username,disable:t.isSaving||t.isLoading,loading:t.isLoading,modelValue:t.config.username,"onUpdate:modelValue":s[4]||(s[4]=n=>t.config.username=n),label:e.$t("UNIFI.USERNAME"),rules:t.validationRules.required,error:t.loginError},null,8,["disable","loading","modelValue","label","rules","error"]),a(A,{name:"password",ref:t.formFields.password,disable:t.isSaving||t.isLoading,loading:t.isLoading,type:t.showPassword?"password":"text",modelValue:t.config.password,"onUpdate:modelValue":s[6]||(s[6]=n=>t.config.password=n),label:e.$t("UNIFI.PASSWORD"),rules:t.validationRules.required,error:t.loginError},{append:u(()=>[a(D,{name:t.showPassword?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[5]||(s[5]=n=>t.showPassword=!t.showPassword)},null,8,["name"])]),_:1},8,["disable","loading","type","modelValue","label","rules","error"]),a(ne,{ref:t.formFields.site,modelValue:t.config.site,"onUpdate:modelValue":s[7]||(s[7]=n=>t.config.site=n),disable:t.isSaving||t.isLoading,loading:t.isLoading,"emit-value":"","map-options":"",options:t.sites,label:e.$t("UNIFI.SITE")},null,8,["modelValue","disable","loading","options","label"]),t.showTwoFactor?(g(),T("div",Et,[i("div",Tt,[a(A,{name:"twoFa",ref:t.formFields.twoFa,disable:t.isSaving||t.isLoading,loading:t.isLoading,type:"text",modelValue:t.config.token,"onUpdate:modelValue":s[8]||(s[8]=n=>t.config.token=n),label:e.$t("UNIFI.TWO_FA"),error:""},{append:u(()=>[a(D,{name:"lock",class:"cursor-pointer"})]),_:1},8,["disable","loading","modelValue","label"])]),a(W)])):q("",!0)])]),a(W),i("div",ft,[i("div",pt,[a(ee,{loading:t.isSaving,disable:!t.isSaving&&t.isLoading,push:"",color:"light-green-7",icon:"save",size:"md",label:e.$t(t.loginRequired?"COMMON.SAVE_AND_LOGIN_BTN":"COMMON.SAVE_BTN"),onClick:t.saveSettings},null,8,["loading","disable","label","onClick"])]),a(W)])],64)}var Nt=M(gt,[["render",ht]]);const vt={name:"Clients",setup(){const e=H();e.dispatch(V.actionTypes.LOAD_CLIENTS);const s=S(()=>e.state.Global.loading),o=S(()=>{const F=e.state.Settings.clients.filter(N=>{const O=N.type==="WIRELESS",Z=N.type==="WIRED",J=N.type==="WIRELESS"&&!N.experience;return O&&l.value!==O||Z&&E.value!==Z||J&&n.value===!J?!1:p.value?!!(_.exports.lowerCase(N.name).indexOf(_.exports.lowerCase(p.value))!=-1||_.exports.lowerCase(N.mac).indexOf(_.exports.lowerCase(p.value))!=-1||N.ssid&&_.exports.lowerCase(N.ssid).indexOf(_.exports.lowerCase(p.value))!=-1):!0}),m=["signalPercentage","watched"].includes(v.value)?"desc":"asc";return _.exports.orderBy(F,[v.value],[m])}),t=h=>h>77?"wifi":h>33?"wifi_2_bar":"wifi_1_bar",r=(h,F,m)=>{e.dispatch(V.actionTypes.SAVE_CLIENTS,{mac:h,value:F})},l=I(!0),n=I(!0),E=I(!0),p=I(""),v=I("watched");return{isLoading:s,clients:o,update:r,wifiIcon:t,showWifi:l,showOffline:n,showWired:E,search:p,sorting:v,sortOptions:[{label:"Selectiert",value:"watched"},{label:"Name",value:"name"},{label:"Wlan SSID",value:"ssid"},{label:"Erfahrung",value:"signalPercentage"},{label:"Typ",value:"type"}]}}},Ot=e=>(_e("data-v-0727866e"),e=e(),Ie(),e),Rt={class:"row"},wt={class:"col-12"},Ct={class:"text-h5 self-end"},At={class:"row"},bt={class:"col-3"},Lt={class:"col-4"},yt={class:"col-2"},Vt={class:"col-2"},Ft={class:"bg-light-green-7 text-white"},Ut=Ot(()=>i("th",{class:"text-left"},null,-1)),Dt={class:"text-left"},Gt={class:"text-left"},Pt={class:"text-left"},kt={class:"text-left"},Wt={class:"text-left"},Qt={class:""},Mt={key:0},zt={key:1},Ht={key:2};function qt(e,s,o,t,r,l){return g(),T("div",Rt,[i("div",wt,[i("div",Ct,d(e.$t("UNIFI.DEVICES")),1),a(B,{spaced:""}),i("p",null,d(e.$t("UNIFI.CLIENT_SELECTION")),1),i("div",At,[i("div",bt,[a(A,{clearable:"","bottom-slots":"",modelValue:t.search,"onUpdate:modelValue":s[0]||(s[0]=n=>t.search=n),label:e.$t("UNIFI.SEARCH"),dense:""},{append:u(()=>[a(D,{name:"search"})]),_:1},8,["modelValue","label"])]),a(W),i("div",Lt,[a(Q,{modelValue:t.showWifi,"onUpdate:modelValue":s[1]||(s[1]=n=>t.showWifi=n),label:e.$t("UNIFI.SHOW_WIFI")},null,8,["modelValue","label"]),a(Q,{modelValue:t.showWired,"onUpdate:modelValue":s[2]||(s[2]=n=>t.showWired=n),label:e.$t("UNIFI.SHOW_WIRED")},null,8,["modelValue","label"])]),i("div",yt,[a(Q,{modelValue:t.showOffline,"onUpdate:modelValue":s[3]||(s[3]=n=>t.showOffline=n),label:e.$t("UNIFI.SHOW_OFFLINE")},null,8,["modelValue","label"])]),i("div",Vt,[a(ne,{modelValue:t.sorting,"onUpdate:modelValue":s[4]||(s[4]=n=>t.sorting=n),dense:"","emit-value":"","map-options":"",options:t.sortOptions,label:e.$t("UNIFI.SORT")},null,8,["modelValue","options","label"])])]),a(me,{bordered:"",separator:"vertical"},{default:u(()=>[i("thead",Ft,[i("tr",null,[Ut,i("th",Dt,d(e.$t("UNIFI.NAME")),1),i("th",Gt,d(e.$t("UNIFI.MAC")),1),i("th",Pt,d(e.$t("UNIFI.SSID")),1),i("th",kt,d(e.$t("UNIFI.EXPERIENCE")),1),i("th",Wt,d(e.$t("UNIFI.TYPE")),1)])]),i("tbody",Qt,[t.isLoading?(g(),T(G,{key:0},K(10,n=>i("tr",{key:n},[(g(),T(G,null,K(6,E=>i("td",{key:E},[a(Ee,{animation:"blink",type:"text"})])),64))])),64)):(g(!0),T(G,{key:1},K(t.clients,n=>(g(),T("tr",{key:n.mac},[i("td",null,[a(Q,{name:n.mac,"onUpdate:modelValue":[E=>t.update(n.mac,!n.watched),E=>n.watched=E],modelValue:n.watched,size:"md"},null,8,["name","onUpdate:modelValue","modelValue"])]),i("td",null,d(n.name),1),i("td",null,d(n.mac),1),i("td",null,d(n.ssid),1),n.type==="WIRELESS"&&n.experience?(g(),T("td",Mt,[R(d(n.experience)+" ",1),a(D,{class:"float-right",name:t.wifiIcon(n.signalPercentage),size:"22px"},null,8,["name"])])):n.type==="WIRELESS"?(g(),T("td",zt,"Offline")):(g(),T("td",Ht,"-")),i("td",null,d(n.type),1)]))),128))])]),_:1})])])}var Bt=M(vt,[["render",qt],["__scopeId","data-v-0727866e"]]),$t=[{path:"/plugins/unifi_presence",component:ct,children:[{name:"settings",path:"settings",component:Nt},{name:"clients",path:"clients",component:Bt}]}],xt={COMMON:{SAVE_BTN:"Speichern",SAVE_AND_LOGIN_BTN:"Speichern und Einloggen",HINT_SAVE_2FA:"Bitte gebe dein 2 Faktor Code ein um dich einzuloggen",VERSION_ERROR:"Die Version deines UniFi Controller ist kleiner als 6.4.54. Bitte aktualisiere zuerst deinen Controller um das Plugin nutzen zu k\xF6nnen. Deine aktuelle Version ist"},UNIFI:{SETTINGS:"Einstellungen",DEVICES:"Ger\xE4te",MQTT_SETTINGS:"MQTT Einstellungen",CONTROLLER:"UniFi Controller Einstellungen",TOPIC:"MQTT Topic",TOPIC_HINT:"Das Mqtt Topic in dem die Werte geschrieben werden sollen. Z.B. UniFi/clients. Kein Slash am Anfang oder Ende und keine Leer- oder Sonderzeichen",IP:"IP Adresse",IP_HINT:"Gebe hier die IP Adresse des UniFi Controllers an. Stelle Sicher, dass Loxberry zugriff darauf hat.",USERNAME:"Benutzername",PASSWORD:"Passwort",SITE:"UniFi Site",NEED_MQTT:"Um dises Plugin nutzen zu k\xF6nnen, muss das MQTT Gateway Plugin in der Version >= 2.0.4 installiert sein.",CLIENTS:"UniFi WiFi Ger\xE4te",NO_CLIENTS:"Ger\xE4te konnen noch nicht angezeigt werden. Bitte stelle zun\xE4chst eine Verbindung zum UniFi Controller her.",CLIENT_SELECTION:"Alle selektierten Ger\xE4te werden \xFCberwacht und an MQTT \xFCbermittelt. Alle anderen Ger\xE4te werden ignoriert. Um den Status der Ger\xE4te zu erhalten, m\xFCssen diese Selektiert werden. Es wird automatisch gespeichert.",NAME:"Name",MAC:"Mac Adresse",SSID:"WLAN SSID",EXPERIENCE:"Erfahrung / Signal",TYPE:"Typ",TWO_FA:"Bitte gebe dein 2 Faktor Code ein.",NATIVE_HINT:"Wenn du eine UniFi Dream Machine oder die Dream Machine Pro benutzt, aktiviere bitte den Schalter. Wenn dein Controller woanders l\xE4uft, dann lasse den Schalter bitte aus.",PORT:"Der port um das Dashbaord zu \xF6ffnen - sofern ben\xF6tigt.",PORT_HINT:"Wenn du einen port f\xFCr den Zugriff auf den Controller im Browser brauchst, dann geben diesen bitte hier an.",LOGIN_REQUIRED:"Ausgeloggt, Bitte neu einloggen.",VERSION:"Version {version}",CPU:"CPU",MEMORY:"Mem",UPTIME:"Aktiv",ISP:"ISP",SHOW_WIRED:"Kabelgebunden anzeigen",SHOW_WIFI:"Wifi anzeigen",SHOW_OFFLINE:"Zeige Offline",SORT:"Sortierung",SEARCH:"Suche"},SERVICE:{WAIT_FOR_CONFIG:"Konfigurationsfehler, wartet auf \xC4nderungen",CONNECTED:"Verbunden mit UniFi Controller",DISCONNECTED:"Nicht Verbunden - Neue Verbindung wird hergestellt",UNAUTHORIZED:"Nicht eingeloggt",LOST:"UniFi Event Service nicht erreichbar",RESTART:"Restart Service"},VALIDATION:{REQUIRED:"Diese Feld wird zwingend ben\xF6tigt.",INVALID_TOPIC:"Das Topic darf nur alphanumerisch sein und wird mit einem / gruppiert. Beispielsweise test/topic.",INVALID_IP:"Bitte gebe eine g\xFCltige V4 IP-Addresse ein.",INVALID_PORT:"Bitte gebe einen Port zwischen 0 und 65535 an."}};const z=Te(Ue),jt=fe({history:pe(),routes:$t}),Kt=se.exports.createI18n({locale:"de",fallbackLocale:"en",messages:{de:xt}}),Yt=he({modules:{[b.name]:b,[f.name]:f,[V.name]:V}});z.use(Ne,{plugins:{Loading:ve}});z.use(jt);z.use(Yt);z.use(Kt);z.mount("#unifiPresence");
